var itiSettings;!function(e,t){var r;"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(r={}),e.bodyScrollLock=r)}(this,function(e){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var t,a=!1;"undefined"!=typeof window&&(window.addEventListener("testPassive",null,t={get passive(){a=!0}}),window.removeEventListener("testPassive",null,t));function s(t){return d.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})}function l(e){var t=e||window.event;return!!s(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function r(){setTimeout(function(){void 0!==p&&(document.body.style.paddingRight=p,p=void 0),void 0!==f&&(document.body.style.overflow=f,f=void 0)})}var c="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),d=[],u=!1,m=-1,f=void 0,p=void 0;e.disableBodyScroll=function(o,e){if(c){if(!o)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");var t;o&&!d.some(function(e){return e.targetElement===o})&&(t={targetElement:o,options:e||{}},d=[].concat(n(d),[t]),o.ontouchstart=function(e){1===e.targetTouches.length&&(m=e.targetTouches[0].clientY)},o.ontouchmove=function(e){var t,r,i;1===e.targetTouches.length&&(r=o,i=(t=e).targetTouches[0].clientY-m,s(t.target)||(r&&0===r.scrollTop&&0<i||r&&r.scrollHeight-r.scrollTop<=r.clientHeight&&i<0?l(t):t.stopPropagation()))},u||(document.addEventListener("touchmove",l,a?{passive:!1}:void 0),u=!0))}else{i=e,setTimeout(function(){var e,t;void 0===p&&(e=!!i&&!0===i.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth,e&&0<t&&(p=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")),void 0===f&&(f=document.body.style.overflow,document.body.style.overflow="hidden")});var r={targetElement:o,options:e||{}};d=[].concat(n(d),[r])}var i},e.clearAllBodyScrollLocks=function(){c?(d.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener("touchmove",l,a?{passive:!1}:void 0),u=!1),d=[],m=-1):(r(),d=[])},e.enableBodyScroll=function(t){if(c){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,d=d.filter(function(e){return e.targetElement!==t}),u&&0===d.length&&(document.removeEventListener("touchmove",l,a?{passive:!1}:void 0),u=!1)}else d=1===d.length&&d[0].targetElement===t?(r(),[]):d.filter(function(e){return e.targetElement!==t})}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Maska={})}(this,function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(t,e){var r,i=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)),i}function n(o){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){var t,r,i;t=o,i=n[r=e],r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(n,e))})}return o}function a(e,t,r){var s,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return 1<o(t).length?(s=o(t).sort(function(e,t){return e.length-t.length}),function(e,t,r){for(var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=0;o<s.length;){var n=s[o],a=s[++o];if(!(a&&l(e,a,r,!0).length>n.length))return l(e,n,r,i)}return""}(e,t,r,i)):l(e,t,r,i)}function o(t){try{return JSON.parse(t)}catch(e){return[t]}}function l(e,t,r,i){for(var o,n,a=!(3<arguments.length&&void 0!==i)||i,s=0,l=0,c="",d="";s<t.length&&l<e.length;){var u,m=t[s],f=e[l],p=r[m];p&&p.pattern?(p.pattern.test(f)&&(c+=(o=f,(n=p).transform&&(o=n.transform(o)),n.uppercase?o.toLocaleUpperCase():n.lowercase?o.toLocaleLowerCase():o),s++,a&&t[s]&&!r[t[s]]&&(c+=t[s],s++)),l++):p&&p.repeat?(u=r[t[s-1]])&&!u.pattern.test(f)?s++:s--:(p&&p.escape&&(m=t[++s]),a&&(c+=m),f===m&&l++,s++)}for(;a&&s<t.length;){var g=t[s];if(r[g]){d="";break}d+=g,s++}return c+d}var i={"#":{pattern:/[0-9]/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,uppercase:!0},a:{pattern:/[a-zA-Z]/,lowercase:!0},"!":{escape:!0},"*":{repeat:!0}};function s(e){return!(e instanceof HTMLInputElement)&&e.querySelector("input")||e}function c(e){return"[object String]"===Object.prototype.toString.call(e)}var d=(t(u.prototype,[{key:"init",value:function(){for(var t=this,e=0;e<this._el.length;e++){var r=s(this._el[e]);!this._opts.mask||r.dataset.mask&&r.dataset.mask===this._opts.mask||(r.dataset.mask=this._opts.mask),this.updateValue(r),r.dataset.maskInited||(r.dataset.maskInited=!0,r.addEventListener("input",function(e){return t.updateValue(e.target,e)}),r.addEventListener("beforeinput",function(e){return t.beforeInput(e)}))}}},{key:"destroy",value:function(){for(var t=this,e=0;e<this._el.length;e++){var r=s(this._el[e]);r.removeEventListener("input",function(e){return t.updateValue(e.target,e)}),r.removeEventListener("beforeinput",function(e){return t.beforeInput(e)}),delete r.dataset.mask,delete r.dataset.maskInited}}},{key:"updateValue",value:function(e,t){var r,i,o,n=e.type.match(/^number$/i)&&e.validity.badInput;(e.value||n)&&e.dataset.mask&&(r=e.selectionEnd,o=(i=e.value)[r-1],e.value=a(e.value,e.dataset.mask,this._opts.tokens),t&&"insertText"===t.inputType&&r===i.length&&(r=e.value.length),function(e,t,r){for(;t&&t<e.value.length&&e.value.charAt(t-1)!==r;)t++;(e.type?e.type.match(/^(text|search|password|tel|url)$/i):!e.type)&&e===document.activeElement&&(e.setSelectionRange(t,t),setTimeout(function(){e.setSelectionRange(t,t)},0))}(e,r,o),e.value!==i&&e.dispatchEvent(function(e,t){var r=1<arguments.length&&void 0!==t?t:null,i=document.createEvent("Event");return i.initEvent("input",!0,!0),r&&(i.inputType=r),i}("input",t&&t.inputType||null)))}},{key:"beforeInput",value:function(e){e.target.type.match(/^number$/i)&&e.data&&isNaN(e.target.value+e.data)&&e.preventDefault()}}]),u);function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),!e)throw new Error("Maska: no element for mask");if(t.tokens)for(var r in t.tokens)t.tokens[r]=n({},t.tokens[r]),t.tokens[r].pattern&&c(t.tokens[r].pattern)&&(t.tokens[r].pattern=new RegExp(t.tokens[r].pattern));this._opts={mask:t.mask,tokens:n(n({},i),t.tokens)},this._el=c(e)?document.querySelectorAll(e):e.length?e:[e],this.init()}function m(e,t){if(t.value)return!t.value||(c((o=t).value)&&o.value===o.oldValue||Array.isArray(o.value)&&JSON.stringify(o.value)===JSON.stringify(o.oldValue)||o.value&&o.value.mask&&o.oldValue&&o.oldValue.mask&&o.value.mask===o.oldValue.mask)?void 0:new d(e,(r=t.value,i={},r.mask?(i.mask=Array.isArray(r.mask)?JSON.stringify(r.mask):r.mask,i.tokens=r.tokens?n({},r.tokens):{}):i.mask=Array.isArray(r)?JSON.stringify(r):r,i));var r,i,o}function f(e){e.directive("maska",m)}"undefined"!=typeof window&&window.Vue&&window.Vue.use&&window.Vue.use(f),e.create=function(e,t){return new d(e,t)},e.default=f,e.install=f,e.mask=a,e.maska=m,e.tokens=i,Object.defineProperty(e,"__esModule",{value:!0})}),"undefined"!=typeof itiRqCallOptions&&"object"==typeof itiRqCallOptions&&(itiSettings=itiRqCallOptions),"undefined"!=typeof fields&&"object"==typeof itiSettings&&(itiSettings.fields=fields);var _gscq={push:function(e){itiRqCall.showForm(e[1])}};try{(itiRqCall={styles:".rqc-form-wr,.rqc-form-wr *{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;text-transform:inherit;text-decoration:inherit;white-space:normal}.rqc-form-wr{position:fixed;width:100%;height:100%;z-index: 9999999999;font-size:14px;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;display:none;top:0;left:0;overflow-y:auto;}.rqc-form-wr.rqc-form-wr_opened .rqc-form-overlay{visibility:visible;opacity:1;}.rqc-form-wr.rqc-form-wr_opened .rqc-form-body{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);width:550px;}.rqc-form-overlay{position:fixed;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.42);z-index:-1;visibility:hidden;opacity:0;-webkit-transition:.3s;-o-transition:.3s;transition:.3s}.rqc-form-body-wr{position:absolute;height:100%;width:100%;top:0;left:0;bottom:0;right:0;margin:auto;display:-moz-flex;display:-ms-flex;display:-o-flex;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-ms-align-items:center;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;overflow-y:auto;padding-bottom:20px;padding-top:20px}.rqc-form-body-wrap_order{opacity:1}._order .rqc-form-body-wrap_order{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:.3s;-o-transition:.3s;transition:.3s}._confirm .rqc-form-body-wrap_order{opacity:0;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}._confirm .rqc-form-body-wrap_confirm{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);-webkit-transition:.3s;-o-transition:.3s;transition:.3s;opacity:1}._sended .rqc-form-body-wrap_order{opacity:0;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}._sended .rqc-form-body-wrap_confirm{opacity:0}._sended .rqc-form-body-wrap_sended{opacity:1;-webkit-transform:translateY(-200%);-ms-transform:translateY(-200%);transform:translateY(-200%);-webkit-transition:.3s;-o-transition:.3s;transition:.3s}.rqc-form-body{max-width:550px;min-width:370px;top:0;left:0;bottom:0;right:0;padding:20px 70px;padding-top:71px;padding-bottom:70px;background-color:#fff;-webkit-border-radius:10px;border-radius:10px;-webkit-box-shadow:0 12px 27.26px 1.74px rgba(0,0,0,0.4);box-shadow:0 12px 27.26px 1.74px rgba(0,0,0,0.4);overflow:hidden;-webkit-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-transform:translateY(-20%);-ms-transform:translateY(-20%);transform:translateY(-20%);position:relative;opacity:0;margin:auto}.rqc-form-body_error,.rqc-form-body_sended{height:580px;}.rqc-form-body-top{position:relative}.rqc-form-body-top svg{display:block;margin-left:auto;margin-right:auto;margin-bottom:41px}.rqc-form-close{position:absolute;width:30px;height:30px;top:-55px;right:-53px;cursor:pointer;z-index:22;background-color:#A8A8A8;-webkit-border-radius:20px;border-radius:20px}.rqc-form-close:hover .rqc-form-close__icon{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:14px;right:15px;}.rqc-form-close__icon{-webkit-transition:.2s;-o-transition:.2s;transition:.2s;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;background-color:red;position:absolute;top:15px;right:16px}.rqc-form-close__icon:after,.rqc-form-close__icon:before{position:absolute;content:'';width:2px;height:14px;background-color:#fff;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;top:0;left:0;right:0;bottom:0;margin:auto}.rqc-form-close__icon:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.rqc-form-close__icon:after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.rqc-form-radio{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:150px}.rqc-form-radio__container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.rqc-form-radio__input{position:relative;min-height:100px;width:100px}.rqc-form-radio__input:last-child .rqc-form-radio__tile{border-right:none}.rqc-form-radio__button{opacity:0;position:absolute;top:0;left:0;height:100%;width:100%;margin:0;cursor:pointer}.rqc-form-radio__tile{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;border:1px solid transparent;border-right:1px solid #A8A8A8;padding:7px 5px;-webkit-transition:-webkit-transform 300ms ease;transition:-webkit-transform 300ms ease;-o-transition:transform 300ms ease;transition:transform 300ms ease;transition:transform 300ms ease,-webkit-transform 300ms ease}.rqc-form-radio__icon svg{fill:#A8A8A8}.rqc-form-radio__tile-label{text-align:center;font-size:14px;line-height:20px;font-weight:600;color:#333}.rqc-form-radio__tile-label span{color:gray;font-weight:400}.rqc-form-radio__button:checked + .rqc-form-radio__tile{border:1px solid #F04F48;-webkit-border-radius:5px;border-radius:5px;background-color:#fff;color:#fff;-webkit-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}.rqc-form-radio__button:checked + .rqc-form-radio__tile .rqc-form-radio__icon svg{fill:#F04F48}.rqc-form-radio__button:checked + .rqc-form-radio__tile span{color:red}.rqc-form__title{margin-bottom:10px;font-size:16px;line-height:25px;text-align:center;color:gray}.rqc-form-field__input{width:100%;height:44px;padding:13px 28px;background:#FFF;border:1px solid #CCC;-webkit-border-radius:2px;border-radius:2px;text-align:center;font-size:18px;line-height:21px;color:#000;-webkit-transition:.3s;-o-transition:.3s;transition:.3s;outline:none;}.rqc-form-field__input::-webkit-input-placeholder{color:#CECECE;text-align:center}.rqc-form-field__input::-moz-placeholder{color:#CECECE;text-align:center}.rqc-form-field__input::-ms-input-placeholder{color:#CECECE;text-align:center}.rqc-form-field__input::placeholder{color:#CECECE;text-align:center}.rqc-form__phone{position:relative;display:block;margin-bottom:20px;cursor:auto}.rqc-form__phone.def-input-wr_error .rqc-form__input{background-color:#fff0ef}.rqc-form__phone.def-input-wr_error .rqc-form__item-error{bottom:-20px;z-index:1}.rqc-form__item-error{position:absolute;bottom:0;left:0;z-index:-1;color:red;font-size:12px;-webkit-transition:.2s;-o-transition:.2s;transition:.2s}.rqc-form-field__input._rqc-error{border-color:#f04f48}.rqc-btn{display:block;width:263px;margin:0 auto;height:40px;line-height:14px;background-color:#F04F48;-webkit-border-radius:62px;border-radius:62px;font-size:14px;letter-spacing:.5px;color:#fff;text-align:center;border:0;outline:none;}.rqc-btn span{letter-spacing:0}.rqc-form__header{font-size:36px;line-height:45px;text-align:center;font-weight:600;margin-bottom:25px}.rqc-form__text{font-size:14px;line-height:20px;text-align:center;-webkit-font-feature-settings:tnum on,lnum on,zero on;font-feature-settings:tnum on,lnum on,zero on;color:#333;margin-bottom:53px}.rqc-form__text-phone{font-family:inherit;font-weight:900}.rqc-form__sms{position:relative;display:block;margin-bottom:10px;cursor:auto}.rqc-form__sms.def-input-wr_error .rqc-form__input{background-color:#fff0ef}.rqc-form__sms.def-input-wr_error .rqc-form__item-error{bottom:-20px;z-index:1}.rqc-form__again{border:none;display:block;width:263px;margin:0 auto;height:44px;background-color:#fff;letter-spacing:.5px;color:#B3B3B3;text-align:center;border:0}.rqc-form__again:hover svg{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);-webkit-transition:.5s;-o-transition:.5s;transition:.5s}.rqc-form__again:hover span{border:none}.rqc-form__again span{letter-spacing:0;font-size:14px;line-height:14px;padding-bottom:1px;border-bottom:1px solid #6AA4DE}.rqc-form__again svg{margin-right:5px;vertical-align:middle}.rqc-form-close__back{position:absolute;left:-45px;color:#6AA4DE;top:-50px}.rqc-form__button{display:block;width:263px;margin:0 auto;height:44px;margin-bottom:83px;line-height:44px;background-color:#F04F48;-webkit-border-radius:62px;border-radius:62px;font-size:14px;letter-spacing:.5px;color:#fff;text-align:center;border:0}.rqc-form-message__text{margin-bottom:48px;font-size:14px;line-height:20px;text-align:center;-webkit-font-feature-settings:tnum on,lnum on,zero on;font-feature-settings:tnum on,lnum on,zero on;color:#333}.rqc-form-message{display:none;opacity:0;text-align:center}.rqc-form-message svg{margin-bottom:50px;}.rqc-form-body__sms{display:none;opacity:0;transition:1s}.rqc-form-body_confirm .rqc-form-body__sms{opacity:1;position:relative}.rqc-form-body__form{display:none;opacity:0;transition:1s}.rqc-form--active{display:block;opacity:1;transition:1s}@media (max-width: 768px){.rqc-form-radio{height: auto;}.rqc-form-wr.rqc-form-wr_opened .rqc-form-body{width:370px}.rqc-form-body{padding: 40px 40px}.rqc-form-close{right: -23px;top:-25px}.rqc-form-radio__tile{border-right: none}.rqc-form__header{font-size: 30px;line-height: 36px}.rqc-form-body{min-width:320px}.rqc-btn{width:240px}.rqc-form__again{width:240px}.rqc-form-field__input{padding:13px 13px;}.rqc-form-close__back{left:-25px;top:-25px;}}",widgetContainer:'<div class="rqc-form-wr _rqc-form-wr"><div class="rqc-form-overlay"></div></div>',widgetBody:'<div class="rqc-form-body-wr _rqc-form-body-wr"><div class="rqc-form-body _rqc-form-body"><div class="rqc-form-body__form rqc-form--active"><div class="rqc-form-body-top"><div class="rqc-form__header"> #title#</div><div class="rqc-form-close" onclick="itiRqCall.hideForm()"><div class="rqc-form-close__icon"></div></div></div><form action="#" class="rqc-form" novalidate="" onsubmit="itiRqCall.submitForm(this, event)"><div class="rqc-enums-wr"> #enumsList#</div> #inputs#<div class="rqc-submit-wr"> <button class="rqc-btn" type="submit"><span class="rqc-btn__text">#btnText#</span></button></div></form></div>\t\t\t\t<div class="rqc-form-body__sms"><div class="rqc-form-body-top"><div class="rqc-form__header rqc-form__header_confirm">Введите код<br>из&nbsp;SMS</div><div class="rqc-form-close" onclick="itiRqCall.hideForm()"><div class="rqc-form-close__icon"></div></div><a href="" class="rqc-form-close__back" onclick="itiRqCall.againStep()">&larr; Вернуться</a></div><div class="rqc-form__text"> Вводя код, вы&nbsp;подтверждаете заказ звонка<br>на&nbsp;номер&nbsp;<span class="rqc-form__text-phone">+7 (912) 345-67-89</span><br><span class="rqc-form__text-time">завтра утром (9&ndash;12&nbsp;МСК)</span></div><form class="rqc-form"> <label class="rqc-form__sms"><div class="rqc-form__title">SMS-код</div> <input type="tel" id="phone" name="phone" placeholder="_ _ _ _" class="rqc-form-field__input def-input sign-up-input__input rqc-form-field__sms" im-insert="true" oninput="itiRqCall.getInput(this, event)"> <span class="rqc-form__item-error def-input__err-label">Заполните это поле</span> </label> <button type="button" class="rqc-form__again" onclick="itiRqCall.phoneCheck(this, event)"> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M10.2364 1.7625C9.14822 0.675 7.65478 0 5.99625 0C2.67917 0 0 2.685 0 6C0 9.315 2.67917 12 5.99625 12C8.7955 12 11.1295 10.0875 11.7974 7.5H10.2364C9.62101 9.2475 7.95497 10.5 5.99625 10.5C3.51219 10.5 1.49343 8.4825 1.49343 6C1.49343 3.5175 3.51219 1.5 5.99625 1.5C7.24203 1.5 8.35272 2.0175 9.16323 2.835L6.74672 5.25H12V0L10.2364 1.7625Z" fill="#6AA4DE"/> </svg> <span>Выслать код еще раз</span> </button></form></div>\t\t\t\t<div class="rqc-form-message rqc-form-message_success"> <svg width="55" height="44" viewBox="0 0 55 44" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M3 25.9971L16.0022 39L52 3" stroke="#66B759" stroke-width="6"/> </svg><div class="rqc-form__header">#success-message#</div><div class="rqc-form-message__text">#success-text#</div><button class="rqc-form__button" onclick="itiRqCall.hideForm()">Ясно</button></div><div class="rqc-form-message rqc-form-message_error"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3L35 35" stroke="#F04F48" stroke-width="6"/><path d="M35 3L3 35" stroke="#F04F48" stroke-width="6"/></svg><div class="rqc-form__header">#error-message#</div><div class="rqc-form-message__text">#error-text#</div><button class="rqc-form__button" onclick="itiRqCall.hideForm()">Ясно</button></div>',openClass:"rqc-form-wr_opened",rqPopup:null,rqOverlay:null,baseUrl:"https://iticapital.ru/",newWidget:"",widgets:{},openedWidgetID:null,settings:{},idInt:0,dataSms:{id:"",phone:"",name:""},userData:"",init:function(){itiSettings&&(this.settings=itiSettings),"undefined"==typeof ga&&(ga=function(){}),void 0!==this.settings.debug&&this.settings.debug&&(this.baseUrl="https://pre-prod.iticapital.ru/"),this.getWidgets(),this.setWidgetContainer(),this.setStyles(),this.api.init(),document.onclick=this.listClicks},api:{baseUrl:"https://iticapital.ru/apicrm-test/",baseHeadersUrl:"https://pre-prod.iticapital.ru/api-entrance/getkey/",token:null,init:function(){var e=itiRqCall.cookie.getCookie("it-checkstr");void 0===e?this.setHeaders():this.token=e,setInterval(function(){itiRqCall.api.setHeaders()},36e5)},setHeaders:function(e){itiRqCall.sendAjax({url:this.baseHeadersUrl,method:"get",success:function(e){var t=JSON.parse(e.srcElement.response);"true"==t.success&&(itiRqCall.cookie.setCookie("it-checkstr",t.output["it-checkstr"],{expires:86400,path:"/"}),itiRqCall.cookie.setCookie("it-entry",t.output["it-entry"],{expires:86400,path:"/"}))},error:function(e){JSON.parse(e.srcElement.response).status&&$("body").addClass("api-error")}})},getHeader:function(){var e=itiRqCall.cookie.getCookie("it-checkstr"),t=itiRqCall.cookie.getCookie("it-entry"),r="";try{r=e.split("q").filter(Boolean).map(function(e){return String.fromCharCode(parseInt(e)^t)}).join("")}catch(e){r=null}return r}},phoneCheck:function(e,t){""===itiRqCall.dataSms.phone&&(itiRqCall.dataSms.phone=itiRqCall.getData(e,this.openedWidgetID).phone),""===itiRqCall.dataSms.name&&(itiRqCall.dataSms.name=itiRqCall.getData(e,this.openedWidgetID).name),itiRqCall.sendAjax({url:"https://iticapital.ru/apicrm-test/PhoneCheck/",method:"post",data:{phone:itiRqCall.dataSms.phone,send_sms:1,name:itiRqCall.dataSms.name},headers:{Authorization:"Bearer "+itiRqCall.api.getHeader()},success:function(e){itiRqCall.dataSms.idclient=JSON.parse(e.target.response).data.idclient,itiRqCall.dataSms.idlead=JSON.parse(e.target.response).data.idlead,itiRqCall.dataSms.id=JSON.parse(e.target.response).data.idsms},error:function(e){console.log(e,"2")}}),document.querySelector(".rqc-form__again").disabled=!0,itiRqCall.countDown()},phoneVerify:function(e,t){var r={code:document.querySelector(".rqc-form-field__sms").value,idsms:itiRqCall.dataSms.id};itiRqCall.sendAjax({url:"https://iticapital.ru/apicrm-test/PhoneVerify/",method:"post",data:r,headers:{Authorization:"Bearer "+itiRqCall.api.getHeader()},success:function(e){"wrong code"==JSON.parse(e.target.response).data.result?document.querySelector(".rqc-form-field__sms").style.borderColor="red":"ok"==JSON.parse(e.target.response).data.status?(userData.idclient=itiRqCall.dataSms.idclient,userData.idlead=itiRqCall.dataSms.idlead,itiRqCall.sendForm(userData,function(){itiRqCall.callEvent("submit",userData)}),itiRqCall.removeClass(document.querySelector(".rqc-form-body__sms"),"rqc-form--active"),itiRqCall.addClass(document.querySelector(".rqc-form-message_success"),"rqc-form--active")):(itiRqCall.removeClass(document.querySelector(".rqc-form-body__sms"),"rqc-form--active"),itiRqCall.addClass(document.querySelector(".rqc-form-message_error"),"rqc-form--active"))},error:function(e){console.log(e)}})},callEvent:function(e,t){try{this.settings[e];var r=typeof this.settings[e];"undefined"!=r&&"function"==r&&this.settings[e](this.openedWidgetID,t)}catch(e){}},getInput:function(e,t){4===document.querySelector(".rqc-form-field__sms").value.length&&itiRqCall.phoneVerify(e,t)},getWidgets:function(){this.sendAjax({url:this.baseUrl+"widget-constructor/getwidgets/",method:"get",success:function(e){itiRqCall.widgets=JSON.parse(e.currentTarget.response).result,itiRqCall.openByUrl()},error:function(e){console.log("ошибка при получении виджетов",e)}})},openByUrl:function(){for(var e=Object.keys(itiRqCall.widgets),t=0;t<e.length;t++){var r=e[t];if(itiRqCall.widgets[r].activeUrl&&itiRqCall.widgets[r].activeUrl==window.location.pathname){this.showForm(r);break}}},setWidgetContainer:function(){var e=document.createElement("div");e.innerHTML=this.widgetContainer,document.body.appendChild(e)},replaceWidgetContainer:function(){var e=document.querySelector("._rqc-form-wr"),t=document.createElement("div");t.classList.add("rqc-form-wr"),t.classList.add("_rqc-form-wr"),t.innerHTML='<div class="rqc-form-overlay"></div>',e.parentNode.replaceChild(t,e)},listClicks:function(e){var t=null;try{null!=e.target.getAttribute("data-gsc-widget")?t=e.target.getAttribute("data-gsc-widget"):null!=e.target.parentNode.getAttribute("data-gsc-widget")&&(t=e.target.parentNode.getAttribute("data-gsc-widget")),null!=t&&itiRqCall.showForm(t)}catch(e){console.log(e)}},setStyles:function(){var e=this.styles,t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");t.appendChild(r),r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),e=this.styles=""},addClass:function(e,t){-1==e.className.split(" ").indexOf(t)&&(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(t,"")},showForm:function(e){if(void 0===this.widgets[e])return!1;this.openedWidgetID=e,this.setWidgetTexts(),this.getHtmlNodes(),this.initMask(),this.validation.init(),this.rqPopup.setAttribute("style","display: block;"),setTimeout(function(){bodyScrollLock.disableBodyScroll(itiRqCall.rqPopup,{reserveScrollBarGap:!0}),itiRqCall.addClass(itiRqCall.rqPopup,itiRqCall.openClass),itiRqCall.addClass(itiRqCall.rqOverlay,itiRqCall.openClass)},10),this.callEvent("show",{status:!0}),document.addEventListener("keyup",this.closeOnKeyUp)},setWidgetTexts:function(e){var t=this.widgets[this.openedWidgetID];this.newWidget=this.widgetBody.replace(/#title#/g,t.title).replace(/#description#/g,t.description).replace(/#btnText#/g,t.buttonTxt).replace(/#success-message#/g,t.successHeader).replace(/#success-text#/g,t.successText).replace(/#error-message#/g,t.errorHeader).replace(/#error-text#/g,t.errorHeader),this.addInputs(this.openedWidgetID)},addInputs:function(e){for(var t="",r=0;r<this.widgets[e].fields.length;r++){var i=this.widgets[e].fields[r];i.classesList=this.getFieldClasses(i),"enum"!==i.type?t+=this.getInputHtmlString('<div class="rqc-form-field"> <label class="rqc-form__phone"><div class="rqc-form__title">#fieldLabel#</div> <input type="#fieldType#" name="#fieldName#" placeholder="#placeholder#" class="rqc-form-field__input #class-list#" onblur="ga(\'send\', \'event\', \'rqcall\', \'Виджет #fieldId#, клик в поле #fieldLabel#\');"></label></div>',i,e):itiRqCall.addEnumList(i)}this.newWidget=this.newWidget.replace(/#inputs#/g,t).replace(/#enumsList#/g,""),this.setWidgetHtml()},getInputHtmlString:function(e,t,r){return e.replace(/#fieldLabel#/g,t.label).replace(/#fieldName#/g,t.fieldName).replace(/#fieldType#/g,"phone"===t.type?"tel":t.type).replace(/#placeholder#/g,t.placeholder).replace(/#class-list#/g,t.classesList.join(" ")).replace(/#fieldId#/g,r).replace(/#fieldLabel#/g,t.label)},addEnumList:function(e){for(var t,r="",i=0;i<e.enumItemsList.length;i++){var o=e.enumItemsList[i],n="";0==i&&(n='checked=""');var a="",a=o.icon?o.icon:'<svg width="30" height="29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.1435 19.0081l-4.74 1.271.002.0029-8.55501-8.5549 1.271-4.73809L3.11148.977051.105469 3.98206l.038025.03796C1.18349 9.78502 3.91549 15.3051 8.37149 19.7581c4.44701 4.451 9.95901 7.1799 15.71301 8.2219l.063.0431 3.005-3.0041-6.009-6.0109zM25.106 13.022v-2.001l-5.587.0019 9.607-9.60695L27.713 0l-9.607 9.60797.001-5.58502h-1.999l-.002 8.99905h9z"/></svg>',s="";o.label.match(/%(.*?)%/)&&(s=o.label.match(/%(.*?)%/)[1],o.label=o.label.replace(/%(.*?)%/,"")),r+='<label class="rqc-form-radio__input" onclick="ga(\'send\', \'event\', \'rqcall\', \'time #enumLabel#\');"><input type="radio" class="rqc-form-radio__button" name="#fieldName#" #isChecked# value="#enumValue#"><div class="rqc-form-radio__tile"><div class="rqc-form-radio__icon">#enumIcon#</div> <label for="now" class="rqc-form-radio__tile-label">#enumLabel#<span><br>#enumTime#</span></label></div></label>'.replace(/#fieldName#/g,e.fieldName).replace(/#enumValue#/g,o.value).replace(/#enumLabel#/g,o.label).replace(/#enumIcon#/g,a).replace(/#enumTime#/,s).replace(/#isChecked#/g,n)}t='<div class="rqc-form-radio #class-list#"><div class="rqc-form-radio__container">#enumsListItems#</div></div>'.replace(/#enumsListItems#/g,r).replace(/#fieldLabel#/g,e.label).replace(/#class-list#/g,e.classesList.join(" ")),this.newWidget=this.newWidget.replace(/#enumsList#/g,t)},getFieldClasses:function(e){var t=[];switch(e.type){case"email":t.push("_rqc-email");break;case"phone":t.push("_rqc-phone-mask")}return e.required&&(t.push("_rqc-required"),"enum"==e.type&&(t=["_rqc-required-enum"])),t},getHtmlNodes:function(){this.rqPopup=document.querySelector(".rqc-form-wr"),this.rqOverlay=document.querySelector(".rqc-form-overlay")},initMask:function(){document.querySelector("._rqc-phone-mask").value="+7 ",document.querySelector("._rqc-phone-mask").setAttribute("data-mask","+7 (###) ### ## ##"),Maska.create("._rqc-phone-mask")},hideForm:function(){document.removeEventListener("keyup",this.closeOnKeyUp),this.removeClass(this.rqPopup,this.openClass),setTimeout(function(){itiRqCall.rqPopup.setAttribute("style","display: none;"),bodyScrollLock.clearAllBodyScrollLocks({reserveScrollBarGap:!0}),itiRqCall.clearHtmlNodes(),itiRqCall.replaceWidgetContainer()},240),clearInterval(this.idInt),this.callEvent("close",{status:!0}),this.openedWidgetID=null},clearHtmlNodes:function(){this.rqPopup=null,this.rqOverlay=null},setWidgetHtml:function(){document.querySelector(".rqc-form-wr").innerHTML+=this.newWidget},againStep:function(){event.preventDefault(),itiRqCall.addClass(document.querySelector(".rqc-form-body__form"),"rqc-form--active"),itiRqCall.removeClass(document.querySelector(".rqc-form-body__sms"),"rqc-form--active"),itiRqCall.rqPopup.querySelector(".rqc-btn").removeAttribute("disabled")},submitForm:function(e,t){if(t.preventDefault(),userData=itiRqCall.getData(e,this.openedWidgetID),this.settings.fields)for(var r in this.settings.fields)userData[r]=this.settings.fields[r];if(this.validation.formIsValid(e)){for(var r in itiRqCall.rqPopup.querySelector(".rqc-btn").setAttribute("disabled",!0),document.querySelector(".rqc-form__text-phone").textContent=userData.phone,itiRqCall.widgets[itiRqCall.openedWidgetID].fields)0<itiRqCall.widgets[itiRqCall.openedWidgetID].fields[r].enumItemsList.length&&(document.querySelector(".rqc-form__text-time").textContent=itiRqCall.widgets[itiRqCall.openedWidgetID].fields[r].enumItemsList[userData.time-1].label);itiRqCall.addClass(document.querySelector(".rqc-form-body__sms"),"rqc-form--active"),itiRqCall.removeClass(document.querySelector(".rqc-form-body__form"),"rqc-form--active"),itiRqCall.phoneCheck(e,t),itiRqCall.countDown(),document.querySelector(".rqc-form__again").disabled=!0}},countDown:function(){var e=60;clearInterval(this.idInt),this.idInt=setInterval(function(){document.querySelector(".rqc-form__again span").innerHTML="Выслать код еще раз ("+e+")",e<=0&&(clearInterval(itiRqCall.idInt),document.querySelector(".rqc-form__again span").innerHTML="Выслать код еще раз",document.querySelector(".rqc-form__again").disabled=!1),--e},1e3)},sendForm:function(e,t){itiRqCall.sendAjax({url:itiRqCall.baseUrl+"widget-constructor/handlewidget/",method:"post",data:e,success:t,error:function(e){itiRqCall.callEvent("error",e),itiRqCall.addClass(document.querySelector(".rqc-form-body"),"rqc-form-body_error")}})},sendWidgetData:function(e,t,r){userData=itiRqCall.getData(e,t),itiRqCall.sendForm(userData,r)},closeOnKeyUp:function(e){27===e.keyCode&&itiRqCall.hideForm()},validation:{requiredFields:{},init:function(){this.initValidatedFields(),this.initValidatedEnums()},initValidatedFields:function(){for(var e=itiRqCall.rqPopup.querySelectorAll("._rqc-required"),t=0;t<e.length;t++){var r=e[t],i=this.getValidationRule(r),o=r.getAttribute("name");this.requiredFields[o]={rule:i,type:"field",valid:!1,element:r},this.fieldWatchChanges(r,o)}},fieldWatchChanges:function(e,t){e.addEventListener("change",function(){itiRqCall.validation.validateInput(t)})},initValidatedEnums:function(){for(var e=itiRqCall.rqPopup.querySelectorAll("._rqc-required-enum"),t=0;t<e.length;t++){var r=e[t],i=r.querySelector("input").getAttribute("name");r.setAttribute("name",i),this.requiredFields[i]={rule:"enum",type:"enum",valid:!1,element:e[0]}}},getValidationRule:function(e){return e.classList.contains("_rqc-phone-mask")?"phone":e.classList.contains("_rqc-email")?"email":"required"},rules:{email:function(e){return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)},phone:function(e){var t=e.value.replace(/[^0-9]+/g,"").slice(0,13);e.getAttribute("min-length");return 11<=t.length&&t.length<14},required:function(e){return""!=e.value.trim()},enum:function(e){for(var t=e.querySelectorAll("input"),r=0;r<t.length;r++)if(t[r].checked)return!0;return!1}},val:function(e,t){var r=this.requiredFields[e],i=this.rules[r.rule](r.element);return this.requiredFields[e].valid=i},removeError:function(e){itiRqCall.removeClass(this.requiredFields[e].element,"_rqc-error")},setError:function(e){var t=this.requiredFields[e].element;itiRqCall.addClass(t,"_rqc-error"),itiRqCall.addClass(t,"_rqc-set-error"),setTimeout(function(){itiRqCall.removeClass(t,"_rqc-set-error")},300)},validateInput:function(e){this.val(e)?this.removeError(e):this.setError(e)},validateAll:function(){for(var e=Object.keys(this.requiredFields),t=0;t<e.length;t++)this.validateInput(e[t])},formIsValid:function(){this.validateAll();for(var e=Object.keys(this.requiredFields),t=0;t<e.length;t++)if(!this.requiredFields[e[t]].valid)return!1;return!0}},serializeForm:function(e){return Array.prototype.slice.call(e.querySelectorAll("input, select, textarea")).filter(function(e){return e.name}).reduce(function(e,t){return("radio"===t.type&&t.checked||"radio"!=t.type)&&(e[t.name]=t.value),e},{})},getData:function(e,t){var r=this.serializeForm(e);return void 0!==ga.getAll&&(r.gaId=ga.getAll()[0].get("clientId")),r.link=window.location.href,r.widgetId=void 0!==t?t:this.openedWidgetID,r},sendAjax:function(t){var e=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);if(e.open(t.method,t.url,!0),"undefined"!=t.headers)for(var r in t.headers)e.setRequestHeader(r,t.headers[r]);e.onload=function(e){"function"==typeof t.success&&t.success(e)},e.onerror=function(e){"function"==typeof t.error&&t.error(e)},void 0!==t.data?e.send(JSON.stringify(t.data)):e.send()},cookie:{getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t,r){selectionOptions=r||{};var i,o=r.expires;"number"==typeof o&&o&&((i=new Date).setTime(i.getTime()+1e3*o),o=r.expires=i),o&&o.toUTCString&&(r.expires=o.toUTCString());var n=e+"="+(t=encodeURIComponent(t));for(var a in r){n+="; "+a;var s=r[a];!0!==s&&(n+="="+s)}document.cookie=n}}}).init()}catch(e){var simpleRqCall=function(){window.open(this.baseUrl+"/request-call-simple","_blank").focus()};document.onclick=function(e){null==e.target.getAttribute("data-gsc-widget")&&null==e.target.parentNode.getAttribute("data-gsc-widget")||simpleRqCall()};var itiRqCall={showForm:function(){simpleRqCall()}}}